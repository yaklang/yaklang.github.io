(self.webpackChunkyaklang=self.webpackChunkyaklang||[]).push([[2309],{3905:(n,e,a)=>{"use strict";a.d(e,{Zo:()=>d,kt:()=>u});var t=a(67294);function l(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function r(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.push.apply(a,t)}return a}function i(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(n,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}function p(n,e){if(null==n)return{};var a,t,l=function(n,e){if(null==n)return{};var a,t,l={},r=Object.keys(n);for(t=0;t<r.length;t++)a=r[t],e.indexOf(a)>=0||(l[a]=n[a]);return l}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(t=0;t<r.length;t++)a=r[t],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(n,a)&&(l[a]=n[a])}return l}var o=t.createContext({}),c=function(n){var e=t.useContext(o),a=e;return n&&(a="function"==typeof n?n(e):i(i({},e),n)),a},d=function(n){var e=c(n.components);return t.createElement(o.Provider,{value:e},n.children)},k="mdxType",m={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},s=t.forwardRef((function(n,e){var a=n.components,l=n.mdxType,r=n.originalType,o=n.parentName,d=p(n,["components","mdxType","originalType","parentName"]),k=c(a),s=l,u=k["".concat(o,".").concat(s)]||k[s]||m[s]||r;return a?t.createElement(u,i(i({ref:e},d),{},{components:a})):t.createElement(u,i({ref:e},d))}));function u(n,e){var a=arguments,l=e&&e.mdxType;if("string"==typeof n||l){var r=a.length,i=new Array(r);i[0]=s;var p={};for(var o in e)hasOwnProperty.call(e,o)&&(p[o]=e[o]);p.originalType=n,p[k]="string"==typeof n?n:l,i[1]=p;for(var c=2;c<r;c++)i[c]=a[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}s.displayName="MDXCreateElement"},2302:(n,e,a)=>{"use strict";a.r(e),a.d(e,{frontMatter:()=>r,contentTitle:()=>i,metadata:()=>p,toc:()=>o,default:()=>d});var t=a(22122),l=(a(67294),a(3905));const r={sidebar_position:100},i="\u5feb\u901f\u5165\u95e8\uff1a\u5341\u5206\u949f\u6559\u7a0b",p={unversionedId:"yak-basic/old-memory",id:"yak-basic/old-memory",isDocsHomePage:!1,title:"\u5feb\u901f\u5165\u95e8\uff1a\u5341\u5206\u949f\u6559\u7a0b",description:"Yak \u662f\u4e00\u95e8\u7eaf Golang \u7684\u5d4c\u5165\u5f0f\u8bed\u8a00\uff0c\u662f\u4e00\u95e8\u7eaf Golang \u5b9e\u73b0\u7684\u57fa\u4e8e\u53cd\u5c04\u7279\u6027\u7684\u8bed\u8a00\uff0c\u8bed\u6cd5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4fdd\u7559\u4e86 Golang \u7684\u98ce\u683c\uff0c\u751a\u81f3\u53ef\u4ee5\u5b9e\u73b0 Golang \u8bed\u8a00\u7684\u5bf9\u8c61\u65e0\u7f1d\u5f00\u653e\u7ed9 Yak \u4f7f\u7528\u7684\u529f\u80fd\u3002",source:"@site/docs/yak-basic/30-old-memory.mdx",sourceDirName:"yak-basic",slug:"/yak-basic/old-memory",permalink:"/docs/yak-basic/old-memory",editUrl:"https://github.com/yaklang/docs/yak-basic/30-old-memory.mdx",tags:[],version:"current",sidebarPosition:100,frontMatter:{sidebar_position:100},sidebar:"tutorialSidebar",previous:{title:"28. \u5168\u5c40\u53d8\u91cf\u4e0e\u5185\u7f6e\u51fd\u6570",permalink:"/docs/yak-basic/globals"},next:{title:"\u7ae0\u8282\u4ecb\u7ecd",permalink:"/docs/yakexamples/intro"}},o=[{value:"\u8fd0\u7b97\u7b26\u652f\u6301",id:"\u8fd0\u7b97\u7b26\u652f\u6301",children:[{value:"\u57fa\u7840\u8fd0\u7b97\u7b26",id:"\u57fa\u7840\u8fd0\u7b97\u7b26",children:[]},{value:"\u4e09\u5143\u8fd0\u7b97\u7b26: <code>condition ? value1 : value2</code>",id:"\u4e09\u5143\u8fd0\u7b97\u7b26-condition--value1--value2",children:[]},{value:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u64cd\u4f5c Golang \u901a\u9053\uff1a<code>&lt;-</code>",id:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u64cd\u4f5c-golang-\u901a\u9053\uff1a-",children:[]},{value:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u683c\u5f0f\u5316\u5b57\u7b26\u4e32: <code>%</code>",id:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u683c\u5f0f\u5316\u5b57\u7b26\u4e32-",children:[]},{value:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728: <code>in</code>",id:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728-in",children:[]},{value:"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u5408\u5e76Slice/Array: <code>+</code>",id:"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u5408\u5e76slicearray-",children:[]},{value:"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u91cd\u590d\u5b57\u7b26\u4e32: <code>*</code>",id:"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u91cd\u590d\u5b57\u7b26\u4e32-",children:[]}]},{value:"\u7c7b\u578b\u4e0e\u6570\u636e\u7ed3\u6784\u4f7f\u7528",id:"\u7c7b\u578b\u4e0e\u6570\u636e\u7ed3\u6784\u4f7f\u7528",children:[{value:"\u57fa\u7840\u6570\u636e\u7c7b\u578b",id:"\u57fa\u7840\u6570\u636e\u7c7b\u578b",children:[]},{value:"\u590d\u5408\u7c7b\u578b",id:"\u590d\u5408\u7c7b\u578b",children:[]},{value:"\u51fd\u6570\u7c7b\u578b\u4e0e\u7c7b",id:"\u51fd\u6570\u7c7b\u578b\u4e0e\u7c7b",children:[]},{value:"\u5982\u4f55\u4f7f\u7528 Slice / List",id:"\u5982\u4f55\u4f7f\u7528-slice--list",children:[]},{value:"\u5982\u4f55\u4f7f\u7528 Map / Dict",id:"\u5982\u4f55\u4f7f\u7528-map--dict",children:[]},{value:"chan \u64cd\u4f5c",id:"chan-\u64cd\u4f5c",children:[]}]},{value:"\u4f7f\u7528\u51fd\u6570/\u95ed\u5305\uff1a<code>def</code> <code>func</code> <code>fn</code> \u5747\u7b49\u6548",id:"\u4f7f\u7528\u51fd\u6570\u95ed\u5305\uff1adef-func-fn-\u5747\u7b49\u6548",children:[{value:"\u51fd\u6570\u548c\u95ed\u5305\u7684\u5b9a\u4e49",id:"\u51fd\u6570\u548c\u95ed\u5305\u7684\u5b9a\u4e49",children:[]},{value:"Yak \u51fd\u6570\u7684\u5b9a\u4e49\uff1a\u5b9a\u4e49\u53c2\u6570\u4e0e\u53ef\u53d8\u53c2\u6570",id:"yak-\u51fd\u6570\u7684\u5b9a\u4e49\uff1a\u5b9a\u4e49\u53c2\u6570\u4e0e\u53ef\u53d8\u53c2\u6570",children:[]},{value:"\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1a\u53ef\u4ee5\u652f\u6301\u591a\u4e2a\u8fd4\u56de\u503c\uff0c\u62c6\u5305",id:"\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1a\u53ef\u4ee5\u652f\u6301\u591a\u4e2a\u8fd4\u56de\u503c\uff0c\u62c6\u5305",children:[]}]},{value:"Go \u5173\u952e\u5b57\u4e0e Goroutine",id:"go-\u5173\u952e\u5b57\u4e0e-goroutine",children:[{value:"\u57fa\u7840\u7528\u6cd5",id:"\u57fa\u7840\u7528\u6cd5",children:[]},{value:"\u5e76\u53d1\u63a7\u5236\u7528\u4f8b",id:"\u5e76\u53d1\u63a7\u5236\u7528\u4f8b",children:[]}]},{value:"Defer \u673a\u5236\u4e0e Golang \u7684 Defer",id:"defer-\u673a\u5236\u4e0e-golang-\u7684-defer",children:[]},{value:"\u6d41\u7a0b\u63a7\u5236",id:"\u6d41\u7a0b\u63a7\u5236",children:[{value:"<code>if/elif/else</code> \u6761\u4ef6\u5206\u652f",id:"ifelifelse-\u6761\u4ef6\u5206\u652f",children:[]},{value:"<code>switch/case</code> \u8bed\u53e5",id:"switchcase-\u8bed\u53e5",children:[]},{value:"<code>for</code> \u8bed\u53e5 \u4e0e <code>for range</code> \u8bed\u53e5",id:"for-\u8bed\u53e5-\u4e0e-for-range-\u8bed\u53e5",children:[]}]},{value:"\u6a21\u5757\u5316/\u591a\u6587\u4ef6\u7f16\u7a0b",id:"\u6a21\u5757\u5316\u591a\u6587\u4ef6\u7f16\u7a0b",children:[{value:"\u4f7f\u7528 <code>YAK_MAIN</code>\uff1a\u7b49\u4ef7\u4e8e Python \u4e2d\u7684 <code>__main__</code>",id:"\u4f7f\u7528-yak_main\uff1a\u7b49\u4ef7\u4e8e-python-\u4e2d\u7684-__main__",children:[]},{value:"\u5185\u7f6e\u51fd\u6570 <code>import</code>\uff1a\u52a0\u8f7d\u53e6\u5916\u7684\u811a\u672c\u4e2d\u7684\u53d8\u91cf\u3002",id:"\u5185\u7f6e\u51fd\u6570-import\uff1a\u52a0\u8f7d\u53e6\u5916\u7684\u811a\u672c\u4e2d\u7684\u53d8\u91cf\u3002",children:[]},{value:"<code>include</code> \u50cf PHP include \u53e6\u4e00\u4e2a\u811a\u672c",id:"include-\u50cf-php-include-\u53e6\u4e00\u4e2a\u811a\u672c",children:[]}]}],c={toc:o};function d(n){let{components:e,...a}=n;return(0,l.kt)("wrapper",(0,t.Z)({},c,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"\u5feb\u901f\u5165\u95e8\uff1a\u5341\u5206\u949f\u6559\u7a0b"},"\u5feb\u901f\u5165\u95e8\uff1a\u5341\u5206\u949f\u6559\u7a0b"),(0,l.kt)("p",null,"Yak \u662f\u4e00\u95e8\u7eaf Golang \u7684\u5d4c\u5165\u5f0f\u8bed\u8a00\uff0c\u662f\u4e00\u95e8\u7eaf Golang \u5b9e\u73b0\u7684\u57fa\u4e8e\u53cd\u5c04\u7279\u6027\u7684\u8bed\u8a00\uff0c\u8bed\u6cd5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4fdd\u7559\u4e86 Golang \u7684\u98ce\u683c\uff0c\u751a\u81f3\u53ef\u4ee5\u5b9e\u73b0 Golang \u8bed\u8a00\u7684\u5bf9\u8c61\u65e0\u7f1d\u5f00\u653e\u7ed9 Yak \u4f7f\u7528\u7684\u529f\u80fd\u3002"),(0,l.kt)("p",null,"Golang \u7684\u4e00\u4e9b\u4ee4\u4eba\u60ca\u53f9\u7684\u7279\u6027\u6211\u4eec\u5728 Yak \u4e2d\u4e5f\u53ef\u4ee5\u627e\u5230\u5b9e\u73b0\uff0c\u6bd4\u5982\u5927\u5bb6\u719f\u6089\u6216\u8005\u6709\u6240\u8033\u95fb\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"go func() {} ()"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"defer")," \u5173\u952e\u5b57\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"chan <T>")," \u7b49\u3002"),(0,l.kt)("p",null,"\u5728\u4fdd\u7559\u8fd9\u4e9b\u4f18\u79c0\u529f\u80fd\u7684\u540c\u65f6\uff0c\u6211\u4eec\u6781\u5927\u7684\u7b80\u5316\u4e86 Golang \u7684\u8bed\u6cd5\uff0c\u79fb\u9664\u4e86\u9759\u6001\u7c7b\u578b\u7684\u7279\u6027\uff0c\u79fb\u9664\u4e86\u4e25\u683c\u7684\u8bed\u6cd5\u68c0\u67e5\uff0c\u8fd9\u662f\u4e00\u95e8\u52a8\u6001\u5f3a\u7c7b\u578b\u8bed\u8a00\uff0c\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u5c3d\u529b\u517c\u5bb9\u4e86\u4e00\u4e9b\u52a8\u6001\u8bed\u8a00\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6700\u4ee4\u4eba\u6fc0\u52a8\u7684"),"\u5176\u5b9e\u662f\u6211\u4eec\u5728\u8bed\u8a00\u5185\u7f6e\u4e86\u5404\u79cd\u5b89\u5168\u4ece\u4e1a\u4eba\u5458\u9700\u8981\u7684\u5b89\u5168\u626b\u63cf\u5de5\u5177\u548c\u524d\u65e0\u53e4\u4eba\u7684\u6a21\u7cca\u6d4b\u8bd5\u6a21\u5757\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u5e0c\u671b Yak \u5bf9\u4e0e\u5b89\u5168\u4ece\u4e1a\u4eba\u5458\u662f\u76f8\u5f53\u53cb\u597d\u7684\uff0c10 \u5206\u949f\u5373\u53ef\u4e0a\u624b\uff01\u5982\u679c\u4f60\u719f\u6089 Golang \u548c Python\uff0c\u6211\u76f8\u4fe1 Yak \u4e00\u5b9a\u4e5f\u662f\u4f60\u5c06\u4f1a\u975e\u5e38\u559c\u7231\u7684\u80f6\u6c34\u8bed\u8a00\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"yak \u6bcf\u884c\u7ed3\u5c3e\u4e0d\u9700\u8981\u52a0\u5206\u53f7\uff0c\u5f53\u7136\u52a0\u4e86\u4e5f\u6ca1\u5173\u7cfb")),(0,l.kt)("h2",{id:"\u8fd0\u7b97\u7b26\u652f\u6301"},"\u8fd0\u7b97\u7b26\u652f\u6301"),(0,l.kt)("h3",{id:"\u57fa\u7840\u8fd0\u7b97\u7b26"},"\u57fa\u7840\u8fd0\u7b97\u7b26"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"// \u52a0\u51cf\u4e58\u9664:  1 + 4 * 5\n'+' '-' '*' '/'\n\n// \u53d6\u4f59\u6570\u6216\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\n'%'\n\n// \u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a\u4e3a\u4fdd\u6301 Golang \u7528\u6237\u4f7f\u7528\u4e60\u60ef\uff0c\u6211\u4eec\u4fdd\u7559\u4e86 := \u8d4b\u503c\u6a21\u5f0f\uff0ca := 1; \u6216\u8005 a = 1 \u662f\u7b49\u6548\u7684\n'=' ':='\n\n// \u4f4d\u8fd0\u7b97\n'^' '&' '&^' '|' '<<' '>>'\n\n// \u8fd0\u7b97\u8d4b\u503c\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c++ \u548c -- \u53ea\u80fd\u7528\u5728\u53d8\u91cf\u540e\uff0c\u5176\u76f8\u5f53\u4e8e += 1 / -= 1\n'+=' '-=' '*=' '/=' '%=' '++' '--'\n\n// \u4f4d\u8fd0\u7b97\u8d4b\u503c\n'^=' '&=' '&^=' '|=' '<<=' '>>='\n\n// \u5355\u4f4d\u8fd0\u7b97\u7b26\uff0c\u53d6\u53cd\n'!'\n\n// \u903b\u8f91\u6bd4\u8f83\u8fd0\u7b97\u7b26\n'>=' '<=' '>' '<' '==' '!=' '&&' '||'\n")),(0,l.kt)("h3",{id:"\u4e09\u5143\u8fd0\u7b97\u7b26-condition--value1--value2"},"\u4e09\u5143\u8fd0\u7b97\u7b26: ",(0,l.kt)("inlineCode",{parentName:"h3"},"condition ? value1 : value2")),(0,l.kt)("p",null,"yak\u6700\u8fd1\u4e5f\u65b0\u589e\u4e86\u6211\u4eec\u5728c\u7cfb\u8bed\u8a00\u4e2d\u5e38\u89c1\u4e09\u5143\u8fd0\u7b97\u7b26\uff0c\u5176\u4f7f\u7528\u65b9\u6cd5\u5b8c\u5168\u76f8\u540c\uff0c\u4f8b\u5982:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = true ? "1" : "2" // \u7ed3\u679c\u4e3a: "1"\nb = 2>1?(2<1?true:false):false // \u7ed3\u679c\u4e3a: false\nc = true?false?true:false:false // \u7ed3\u679c\u4e3a: false\n')),(0,l.kt)("h3",{id:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u64cd\u4f5c-golang-\u901a\u9053\uff1a-"},"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u64cd\u4f5c Golang \u901a\u9053\uff1a",(0,l.kt)("inlineCode",{parentName:"h3"},"<-")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"<-")," \u64cd\u4f5c\u7b26\u65e2\u53ef\u4ee5\u628a\u5143\u7d20\u5199\u5165\u73b0\u6210\u7684 chan \u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4ece chan \u4e2d\u8bfb\u53d6\u76f8\u5173\u5143\u7d20"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"varName = <- chanVar")," \u610f\u601d\u662f\u628a chanVar \u8fd9\u4e2a chan \u8bfb\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u8d4b\u503c\u7ed9 varName\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"chanVar <- someValue")," \u610f\u601d\u662f\u628a someValue \u5199\u5165 chanVar \u8fd9\u4e2a chan \u4e2d")),(0,l.kt)("p",null,"\u5982\u679c\u8bfb\u8005\u6709\u5199\u8fc7 Golang\uff0c\u6211\u4eec\u4e0b\u9762\u4e00\u6bb5\u4ee3\u7801\u53ef\u4ee5\u66f4\u5bb9\u6613\u5e2e\u4f60\u7406\u89e3\u8fd9\u4e2a\u7279\u6b8a\u64cd\u4f5c\u7b26"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u58f0\u660e\u4e00\u4e2a chan\uff0c\u7c7b\u578b\u4e3a var, chan \u7684\u7f13\u51b2\u533a\u4e3a 2\uff0c\u53ef\u4ee5\u7f13\u51b2\u4e24\u4e2a\u5143\u7d20\nch := make(chan var, 2)\nch <- 123\nch <- 456\n\nfirstIn = <- ch\nsecondIn = <- ch\nprintln("first:    ", firstIn)\nprintln("seconds:  ", secondIn)\n')),(0,l.kt)("p",null,"\u6211\u4eec\u5f88\u5bb9\u6613\u731c\u5230\uff0c\u4e0a\u9762\u4ee3\u7801\u7684\u6267\u884c\u7ed3\u679c\u4e3a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"first:     123\nseconds:   456\n")),(0,l.kt)("h3",{id:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u683c\u5f0f\u5316\u5b57\u7b26\u4e32-"},"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u683c\u5f0f\u5316\u5b57\u7b26\u4e32: ",(0,l.kt)("inlineCode",{parentName:"h3"},"%")),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528sprintf\u5b9e\u73b0\u7b80\u5355\u5730\u5b9e\u73b0\u683c\u5f0f\u5316\u5b57\u7b26\u4e32:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'println(sprintf("here is string: %s and int: %d", "something", 0))\n')),(0,l.kt)("p",null,"\u5f53\u7136\u4e00\u4e2a\u66f4\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u7c7b\u4f3c\u4e8epython\u7684\u8bed\u6cd5\u7cd6",(0,l.kt)("inlineCode",{parentName:"p"},"%"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'s = "here is string: %s" % "something"\ns2 = "here is int: %d and %d" % [1, 2]\nprintln(s) // here is string: something\nprintln(s2) // here is int: 1 and 2\n')),(0,l.kt)("h3",{id:"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728-in"},"\u7279\u6b8a\u8fd0\u7b97\u7b26\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728: ",(0,l.kt)("inlineCode",{parentName:"h3"},"in")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"in"),"\u8fd0\u7b97\u7b26\u4e0epython\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"in"),"\u7c7b\u4f3c:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u5305\u542b\u5b50\u5b57\u7b26\u4e32\uff0c\u7b49\u4ef7\u4e8estr.Contains("aabb", "aa")\ndump("aa" in "aabb")\n\n// \u5143\u7d20\u662f\u5426\u5728Slice/Array\u4e2d\u5b58\u5728\ndump(1 in [1, 2, 3])\n\n// \u952e\u662f\u5426\u5728Map/Dict\u4e2d\u5b58\u5728\ndump("key" in {"key":"value"})\n\n// \u65b9\u6cd5\u662f\u5426\u5728\u5e93\u4e2d\u5b58\u5728\ndump("Now" in time)\n\n// \u7ed3\u6784\u4f53\u5b57\u6bb5/\u65b9\u6cd5\u662f\u5426\u5728\u7ed3\u6784\u4f53\u4e2d\u5b58\u5728\ndump("Add" in time.Now())\n')),(0,l.kt)("h3",{id:"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u5408\u5e76slicearray-"},"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u5408\u5e76Slice/Array: ",(0,l.kt)("inlineCode",{parentName:"h3"},"+")),(0,l.kt)("p",null,"\u4e0epython\u7c7b\u4f3c\uff0cyak\u53ef\u4ee5\u4f7f\u7528+\u53f7\u5408\u5e76Slice/Array:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'println([1, 2, 3]  + [4, 5, 6]) // [1 2 3 4 5 6]\nprintln([1, 2, 3]  + ["aaa", "bbb"]) // [1 2 3 aaa bbb]\n')),(0,l.kt)("h3",{id:"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u91cd\u590d\u5b57\u7b26\u4e32-"},"\u57fa\u7840\u8fd0\u7b97\u7b26\u7684\u6269\u5c55\uff0c\u91cd\u590d\u5b57\u7b26\u4e32: ",(0,l.kt)("inlineCode",{parentName:"h3"},"*")),(0,l.kt)("p",null,"\u4e0epython\u7c7b\u4f3c\uff0cyak\u53ef\u4ee5\u4f7f\u7528",(0,l.kt)("em",{parentName:"p"},"\u53f7\u6765\u751f\u6210\u91cd\u590d\u7684\u5b57\u7b26\u4e32\uff0c\u6ce8\u610f\uff0c\u8fd9\u91cc`"),"`\u53f7\u53ea\u80fd\u7528\u4e8e\u751f\u6210\u91cd\u590d\u7684\u5b57\u7b26\u4e32\uff0c\u4e0d\u80fd\u50cfpython\u4e00\u6837\u751f\u6210\u91cd\u590d\u5143\u7d20\u7ec4\u6210\u6570\u7ec4\u7b49:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'println("a" * 3) // aaa\nprintln([]byte{104} * 3) // [104 104 104]\n')),(0,l.kt)("h2",{id:"\u7c7b\u578b\u4e0e\u6570\u636e\u7ed3\u6784\u4f7f\u7528"},"\u7c7b\u578b\u4e0e\u6570\u636e\u7ed3\u6784\u4f7f\u7528"),(0,l.kt)("h3",{id:"\u57fa\u7840\u6570\u636e\u7c7b\u578b"},"\u57fa\u7840\u6570\u636e\u7c7b\u578b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-golang"},"1. int\n2. float     // \u7b49\u6548\u4e8e Golang \u7684 float64\n3. string\n4. byte\n5. bool\n6. var       // \u7b49\u6548\u4e8e Golang \u7684 interface{}\n")),(0,l.kt)("p",null,"\u8fd9\u4e9b\u7c7b\u578b\u5176\u5b9e\u90fd\u662f\u6700\u57fa\u7840\u7684\u6570\u636e\u7c7b\u578b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"// \u4ee5\u4e0b\u662f\u4e00\u7ec4\u57fa\u7840\u58f0\u660e\na = 1 // \u521b\u5efa\u4e00\u4e2a int \u7c7b\u578b\u53d8\u91cf\uff0c\u5e76\u521d\u59cb\u5316\u4e3a 1\nb = \"hello\" // string \u7c7b\u578b\nc = true // bool \u7c7b\u578b\nd = 1.0 // float \u7c7b\u578b\ne = 'h' // byte \u7c7b\u578b\nf = var // f \u4e3a\u4e00\u4e2a \u517c\u5bb9\u7c7b\u578b\n")),(0,l.kt)("h3",{id:"\u590d\u5408\u7c7b\u578b"},"\u590d\u5408\u7c7b\u578b"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"slice"),"\uff1a\u662f\u7528\u4e8e\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\u5b58\u50a8\u5143\u7d20\u7684\u6570\u636e\u7c7b\u578b (\u7b49\u6548\u4e8e Python \u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"list"),")\uff0c\u540c Golang \u4e2d\u7684 slice"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"map"),"\uff1a\u7528\u4e8e\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u5b58\u50a8\u6570\u636e\u7684\u7ed3\u6784\uff08\u7b49\u6548\u4e8e Python \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"dict"),"\uff09\uff0c\u540c Golang \u4e2d\u7684 map"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"chan"),"\uff1aYak \u4e0e Golang \u7279\u6709\u7684\u590d\u5408\u6570\u636e\u7c7b\u578b\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"make(chan <T>)")," \u521b\u5efa\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"<T>")," \u4e3a\u8fd9\u4e2a chan \u6570\u636e\u901a\u9053\u4f20\u8f93\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u7c7b\u6bd4\u4e3a Python \u4e2d\u7684 Queue")),(0,l.kt)("h3",{id:"\u51fd\u6570\u7c7b\u578b\u4e0e\u7c7b"},"\u51fd\u6570\u7c7b\u578b\u4e0e\u7c7b"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u95ed\u5305\u4e0e\u51fd\u6570\u5747\u662f\u7279\u6b8a\u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c\u540c Golang \u4e0e Python\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u51fd\u6570\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c\u5728\u4f60\u60f3\u4f7f\u7528\u5b83\u7684\u65f6\u5019\u4f7f\u7528\u5b83"),(0,l.kt)("li",{parentName:"ol"},"\u7c7b\u4e0e\u7c7b\u6210\u5458\u51fd\u6570\u4e5f\u662f\u672c\u8bed\u8a00\u53ef\u652f\u6301\u7684\u7279\u8272\u4e4b\u4e00\uff0c\u4f46\u662f\u5bf9\u4e8e\u811a\u672c\u8bed\u8a00\u6765\u8bf4\uff0cOOP \u7684\u7279\u6027\u652f\u6301\u4f1a\u6781\u5927\u589e\u52a0\u8bed\u8a00\u590d\u6742\u7a0b\u5ea6\uff0c\u5c3d\u7ba1\u8bed\u8a00\u652f\u6301\uff0c\u4f46\u662f\u4f5c\u8005\u5e76\u4e0d\u5e0c\u671b\u8fd9\u4e2a\u7279\u6027\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002")),(0,l.kt)("h3",{id:"\u5982\u4f55\u4f7f\u7528-slice--list"},"\u5982\u4f55\u4f7f\u7528 Slice / List"),(0,l.kt)("h4",{id:"\u58f0\u660e\u4e00\u4e2a-slice"},"\u58f0\u660e\u4e00\u4e2a Slice"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'b = [1, 2.3, 5]         // \u521b\u5efa\u4e00\u4e2a []float\nc = ["a", "b", "c"]     // \u521b\u5efa\u4e00\u4e2a []string\nd = ["a", 1, 2.3]       // \u521b\u5efa\u4e00\u4e2a []var (\u7b49\u4ef7\u4e8e Go \u8bed\u8a00\u7684 []interface{})\ne = make([]int, 3, 3)   // \u521b\u5efa\u4e00\u4e2a []int\uff0c\u5e76\u5c06\u957f\u5ea6\u8bbe\u7f6e\u4e3a 3\uff0c\u5bb9\u91cf\u8bbe\u7f6e\u4e3a 3\nf = make([][]int, 3, 3) // \u521b\u5efa\u4e00\u4e2a [][]int\uff0c\u5e76\u5c06\u957f\u5ea6\u8bbe\u7f6e\u4e3a 3\uff0c\u5bb9\u91cf\u8bbe\u7f6e\u4e3a 3\ng = []byte{1, 2, 3}     // \u521b\u5efa\u4e00\u4e2a byte slice\uff0c\u5e76\u521d\u59cb\u5316\u4e3a [1, 2, 3]\nh = []byte(nil)         // \u521b\u5efa\u4e00\u4e2a\u7a7a byte slice\n')),(0,l.kt)("h4",{id:"slice--list-\u7684\u5404\u79cd\u64cd\u4f5c"},"Slice / List \u7684\u5404\u79cd\u64cd\u4f5c"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u542b\u4e49\u4e0e Golang \u76f8\u540c\u7684 append \u7528\u6cd5")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"a = append(a, 1, 2, 3)\n")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"len")," \u83b7\u53d6 Slice \u7684\u5143\u7d20\u4e2a\u6570\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"li"},"cap")," \u83b7\u5f97 slice \u7684\u5bb9\u91cf\uff0c\u540c Golang \u7528\u6cd5")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = append([1,2,3], 5,6,7)\nlength = len(a)\nprintln("len(a): ", length)\n\ncapValue = cap(a)\nprintln("cap(a): ", capValue)\n\n// OUTPUT:\n//   len(a):  6\n//   cap(a):  6\n')),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"copy(sliceA, sliceB)")," \u628a sliceB \u7684\u5143\u7d20\u590d\u5236\u5230 sliceA \u4e2d\uff0c\u5982\u679c\u590d\u5236\u7684\u5143\u7d20\u4e2a\u6570\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"min(len(sliceA), len(sliceB))"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = [1,2,3]\nb = [4,5,6,7,8]\ncopiedCount = copy(a, b)\nprintln("copy(a, b) returns ", copiedCount)\nprintln("slice a now: ", a)\n\n// OUTPUT:\n//   copy(a, b) returns  3\n//   slice a now:  [4 5 6]\n')),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"\u6309\u7d22\u5f15\u53d6\u6570\u7ec4\u5143\u7d20\uff0c\u652f\u6301\u62c6\u5305\uff0c\u5177\u4f53\u6848\u4f8b\u5982\u4e0b")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = [1,2,3,4,5,6,7,8]\nb = a[4:6]\nc = a[:5]\nd = a[3:]\nindex1 = a[1]\nindex2, index3 = a[2], a[3]\n\nprintln("b: ", b)\nprintln("c: ", c)\nprintln("d: ", d)\nprintln("a[1]: ", index1)\nprintln("a[2]: ", index2)\nprintln("a[3]: ", index3)\n')),(0,l.kt)("p",null,"\u4e0a\u8ff0\u811a\u672c\u8f93\u51fa\u7684\u7ed3\u679c\u4e3a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"b:  [5 6]\nc:  [1 2 3 4 5]\nd:  [4 5 6 7 8]\na[1]:  2\na[2]:  3\na[3]:  4\n")),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"\u62c6\u5305\u90fd\u662f\u57fa\u672c\u64cd\u4f5c")),(0,l.kt)("p",null,"\u4e0b\u9762\u662f\u4e00\u4e2a slice \u62c6\u5305\u7684\u57fa\u672c\u6848\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a, b, c = [1, 2.3, "stringValue"]\nprintln("a: ", a)\nprintln("b: ", b)\nprintln("c: ", c)\n\n/*\nOUTPUT:\n\na:  1\nb:  2.3\nc:  stringValue\n*/\n')),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u62c6\u5305+\u8d4b\u503c\u7684\u53e6\u4e00\u4e2a\u6848\u4f8b\u8bfb\u8005\u53ef\u4ee5\u5c1d\u8bd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = make([]var, 4)\na[1], a[2], a[3] = 1, "asdfasdf", false\n\nprintln("slice a: ", a)\n\n/*\nOUTPUT:\n\nslice a:  [<nil> 1 asdfasdf false]\n*/\n')),(0,l.kt)("h3",{id:"\u5982\u4f55\u4f7f\u7528-map--dict"},"\u5982\u4f55\u4f7f\u7528 Map / Dict"),(0,l.kt)("h4",{id:"\u8d4b\u503c\u4e0e\u521b\u5efa\u4e00\u4e2a-map--dict"},"\u8d4b\u503c\u4e0e\u521b\u5efa\u4e00\u4e2a Map / Dict"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = {"a": 1, "b": 2, "c": 3}             // \u5f97\u5230 map[string]int \u7c7b\u578b\u7684\u5bf9\u8c61\nb = {"a":1,"b":2.3,"c": 3}               // \u5f97\u5230 map[string]float64 \u7c7b\u578b\u7684\u5bf9\u8c61\nc = {1: "a", 2: "b", 3: "c"}             // \u5f97\u5230 map[int]string \u7c7b\u578b\u7684\u5bf9\u8c61\nd = {"a": "hello", "b": 2.0, "c": true}  // \u5f97\u5230 map[string]interface{} \u7c7b\u578b\u7684\u5bf9\u8c61\ne = make(map[string]int)                 // \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684 map[string]int \u7c7b\u578b\u7684\u5bf9\u8c61\nf = make(map[string]map[string]int)      // \u521b\u5efa\u4e00\u4e2a map[string]map[string]int \u7c7b\u578b\u7684\u5bf9\u8c61\ng = map[string]int16{"a": 1, "b": 2}     // \u521b\u5efa\u4e00\u4e2a map[string]int16 \u7c7b\u578b\u7684\u5bf9\u8c61\nx = {}                                   // \u521b\u5efa\u4e00\u4e2a map[string]interface{}\nx = make(map[var]var)                    // \u521b\u5efa\u4e00\u4e2a map[interface{}]interface{}\n')),(0,l.kt)("p",null,"\u4e0a\u8ff0\u65b9\u6cd5\u5747\u53ef\u521b\u5efa\u4e00\u4e2a map\uff0c\u6211\u4eec\u53d1\u73b0\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u76f4\u63a5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"{key: value ... }")," \u65b9\u5f0f\u521b\u5efa\u7684 map \u4f1a\u81ea\u52a8\u9009\u62e9\u6700\u517c\u5bb9\u7684\u7c7b\u578b")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"make(map[T1]T2)")," \u53ef\u4ee5\u521b\u5efa\u6307\u5b9a\u7c7b\u578b\u7684 map"),(0,l.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u5c0f\u8d34\u58eb \u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"h5"},'{"key": "value", ... }')," \u65b9\u5f0f\u521b\u5efa\u7684 map\uff0ckey \u5fc5\u987b\u662f ",(0,l.kt)("inlineCode",{parentName:"h5"},"string"))),(0,l.kt)("div",{parentName:"div",className:"admonition-content"})))),(0,l.kt)("h4",{id:"map--dict-\u7684\u57fa\u672c\u64cd\u4f5c"},"map / dict \u7684\u57fa\u672c\u64cd\u4f5c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'a = {"a": 234, "b": "sasdfasdf", "ccc": "13"}      // \u6211\u4eec\u521b\u5efa\u4e00\u4e2a map[var]var\nn = len(a)                                         // \u53d6 a \u7684\u5143\u7d20\u4e2a\u6570\nprintln("len(a): ", n)\n// OUTPUT: len(a):  3\n\nx = a["b"]                                         // \u53d6 a map \u4e2d key \u4e3a "b" \u7684\u5143\u7d20\nprintln(`a["b"]: `, x)\n// OUTPUT: a["b"]:  sasdfasdf\n\na.noSuchKey                                        // \u5982\u679c\u53d6\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684 key\uff0c\u76f4\u63a5\u901a\u8fc7 .keyName \u8c03\u7528\u5219\u4f1a\u62a5\u9519\uff0c\u9000\u51fa\u7a0b\u5e8f\n// OUTPUT:\n//     [ERRO] 2021-05-25 20:38:04 +0800 [default:yak.go:100] line 58: member `noSuchKey` not found\n\n// \u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u628a\u62c6\u5305\u89e3\u5305\u7528\u5728 map \u4e2d\na["e"], a["f"], a["g"] = 4, 5, 6                   // \u540c Go \u8bed\u8a00\na.e, a.f, a.g = 4, 5, 6                            // \u542b\u4e49\u540c a["e"], a["f"], a["g"] = 4, 5, 6\n\n// \u5982\u679c\u4f60\u60f3\u8981\u5220\u6389 map \u4e2d\u7684\u67d0\u4e2a\u5143\u7d20\na = {"a": 123, "b": 1345, "c": 999}\nprintln("a.b: ", a.b)\ndelete(a, "b")\nprintln("NOW map a: ")\ndump(a)\n/*\na.b:  1345\nNOW map a:\n(map[string]int) (len=2) {\n (string) (len=1) "a": (int) 123,\n (string) (len=1) "c": (int) 999\n}\n*/\n')),(0,l.kt)("p",null,"\u5982\u4f55\u5224\u65ad\u5143\u7d20\u662f\u5426\u5b58\u5728\u6216\u5728\u5143\u7d20\u4e0d\u5b58\u5728\u65f6\u53d6\u9ed8\u8ba4\u503c\uff1f"),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u6ce8\u610f")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a\u5728\u5224\u65ad\u5143\u7d20\u662f\u5426\u5b58\u5728\u6216\u5728\u5143\u7d20\u4e0d\u5b58\u5728\u65f6\u53d6\u9ed8\u8ba4\u503c\u65f6\uff0cYak \u548c Golang \u6709\u533a\u522b")),(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},'x = {"a": 1, "b": 2}\na = x["a"] // \u7ed3\u679c\uff1aa = 1\n// \u5224\u65ad\u5143\u7d20\u662f\u5426\u5b58\u5728\n// \u65b9\u6cd51:\u5224\u65ad\u53d6\u503c\u662f\u5426\u4e3aundefined\nif a != undefined {             // \u5224\u65ada\u5b58\u5728\u7684\u903b\u8f91\n\n}\nc = x["c"]                      // \u7ed3\u679c\uff1ac = undefined\uff0c\u6ce8\u610f\u4e0d\u662f0\uff0c\u4e5f\u4e0d\u662fnil\nd = x["d"]                      // \u7ed3\u679c\uff1ad = undefined\uff0c\u6ce8\u610f\u4e0d\u662f0\uff0c\u4e5f\u4e0d\u662fnil\n\n// \u65b9\u6cd52:\u4f7f\u7528in\u8fd0\u7b97\u7b26\nif "e" in x { // key\u5b58\u5728\n    e = x["e"]\n}\n\n// \u5143\u7d20\u4e0d\u5b58\u5728\u65f6\u53d6\u9ed8\u8ba4\u503c\n// \u65b9\u6cd51:\u4f7f\u7528\u4e09\u5143\u8fd0\u7b97\u7b26\nf = "f" in x ? x["f"] : "fffff"  // \u7ed3\u679c: f = "fffff"\n\n// \u65b9\u6cd52:\u4f7f\u7528get\u51fd\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3amap/dict\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u952e\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u53d6\u4e0d\u5230\u952e\u503c\u65f6\u7684\u9ed8\u8ba4\u503c\ng = get(x, "g", "ggggg") // \u7ed3\u679c: g = "ggggg"\n')))),(0,l.kt)("h3",{id:"chan-\u64cd\u4f5c"},"chan \u64cd\u4f5c"),(0,l.kt)("h4",{id:"chan-\u7684\u521b\u5efa\u53ea\u80fd\u901a\u8fc7-makechan-t-capbuffer-int"},"chan \u7684\u521b\u5efa\u53ea\u80fd\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"h4"},"make(chan T, [capBuffer: int])")),(0,l.kt)("p",null,"\u521b\u5efa chan \u4e0e Golang \u4fdd\u6301\u76f8\u540c\u7684\u65b9\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"ch1 = make(chan bool, 2)        // \u5f97\u5230 buffer = 2 \u7684 chan bool\nch2 = make(chan int)            // \u5f97\u5230 buffer = 0 \u7684 chan int\nch3 = make(chan map[string]int) // \u5f97\u5230 buffer = 0 \u7684 chan map[string]int\n")),(0,l.kt)("h4",{id:"chan-\u7684\u57fa\u7840\u64cd\u4f5c"},"chan \u7684\u57fa\u7840\u64cd\u4f5c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'/*\u521b\u5efa\u4e00\u4e2a chan var*/\nch1 = make(chan var, 4)\nch1 <- 1\nch1 <- 2\n\n// \u4e00\u901a\u64cd\u4f5c\nn = len(ch1)               // \u53d6\u5f97chan\u5f53\u524d\u7684\u5143\u7d20\u4e2a\u6570\nm = cap(ch1)               // \u53d6\u5f97chan\u7684\u5bb9\u91cf\nv = <-ch1                  // \u4ecechan\u53d6\u51fa\u4e00\u4e2a\u503c\nclose(ch1)                 // \u5173\u95edchan\uff0c\u88ab\u5173\u95ed\u7684chan\u662f\u4e0d\u80fd\u5199\uff0c\u4f46\u662f\u8fd8\u53ef\u4ee5\u8bfb(\u76f4\u5230\u5df2\u7ecf\u5199\u5165\u7684\u503c\u5168\u90e8\u88ab\u53d6\u5b8c\u4e3a\u6b62)\nv1 = <- ch1\nv2 = <- ch1\n\n// \u67e5\u770b\u64cd\u4f5c\u7684\u7ed3\u679c\u548c\u7279\u6027\nprintln("len(ch1): ", n)\nprintln("cap(ch1): ", m)\nprintln("<-ch1 \u6267\u884c\u7b2c\u4e00\u6b21: ", v)\nprintln("<-ch1 \u6267\u884c\u7b2c\u4e8c\u6b21: ", v1)\nprintln("<-ch1 \u6267\u884c\u7b2c\u4e09\u6b21: ", v2)\n')),(0,l.kt)("p",null,"\u4e0a\u8ff0\u811a\u672c\u6267\u884c\u7ed3\u679c\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"len(ch1):  2\ncap(ch1):  4\n<-ch1 \u6267\u884c\u7b2c\u4e00\u6b21:  1\n<-ch1 \u6267\u884c\u7b2c\u4e8c\u6b21:  2\n<-ch1 \u6267\u884c\u7b2c\u4e09\u6b21:  undefined\n")),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"chan \u4f7f\u7528\u5c0f\u8d34\u58eb \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728 chan \u88ab\u5173\u95ed\u540e\uff0c<-ch \u53d6\u5f97 undefined \u503c\u3002\u6240\u4ee5\u5728 yak \u4e2d\u5e94\u8be5\u8fd9\u6837\uff1a")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"v = <-ch1\nif v != undefined { // \u5224\u65adchan\u6ca1\u6709\u88ab\u5173\u95ed\u7684\u903b\u8f91\n    ...\n}\n")))),(0,l.kt)("h2",{id:"\u4f7f\u7528\u51fd\u6570\u95ed\u5305\uff1adef-func-fn-\u5747\u7b49\u6548"},"\u4f7f\u7528\u51fd\u6570/\u95ed\u5305\uff1a",(0,l.kt)("inlineCode",{parentName:"h2"},"def")," ",(0,l.kt)("inlineCode",{parentName:"h2"},"func")," ",(0,l.kt)("inlineCode",{parentName:"h2"},"fn")," \u5747\u7b49\u6548"),(0,l.kt)("h3",{id:"\u51fd\u6570\u548c\u95ed\u5305\u7684\u5b9a\u4e49"},"\u51fd\u6570\u548c\u95ed\u5305\u7684\u5b9a\u4e49"),(0,l.kt)("p",null,"\u51fd\u6570\u548c\u95ed\u5305\u5b9a\u4e49\u5173\u952e\u5b57\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"def")," / ",(0,l.kt)("inlineCode",{parentName:"p"},"func")," / ",(0,l.kt)("inlineCode",{parentName:"p"},"fn"),", \u8fd9\u4e09\u4e2a\u5173\u952e\u5b57\u5b8c\u5168\u7b49\u6548\uff01"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u5b9a\u4e49\u4e86\u4e00\u4e2a\u51fd\u6570\u4e3a aaa\uff0c\u540c\u65f6\u8fd9\u4e2a\u51fd\u6570\u88ab\u8d4b\u503c\u7ed9\u4e86 bbb\uff0c\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u62e5\u6709\u4e86\u4e24\u4e2a\u540d\u5b57\nbbb = func aaa() {\n    println("\u5177\u540d\u51fd\u6570 aaa \u51fd\u6570\u8d4b\u503c\u7ed9\u4e86 bbb\uff0c\u88ab\u8c03\u7528\u4e86")\n}\n\n// \u5b9a\u4e49\u4e86\u4e2a\u533f\u540d\u51fd\u6570\uff0c\u8d4b\u503c\u7ed9\u4e86 ccc\uff0c\u6240\u4ee5 ccc \u53ef\u4ee5\u88ab\u5f53\u4f5c\u51fd\u6570\u8c03\u7528\u4e86\nccc = fn() {\n    println("\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u4e86 ccc\uff0c\u88ab\u8c03\u7528\u4e86")\n}\n\n// \u5206\u522b\u6267\u884c aaa  bbb  ccc \u6765\u770b\u7ed3\u679c\naaa()\nbbb()\nccc()\n\n// \u58f0\u660e\u4e00\u4e2a\u95ed\u5305\ndef{\n    println("\u8fd9\u662f\u4e00\u4e2a\u95ed\u5305\uff0c\u58f0\u660e\u7684\u65f6\u5019\uff0c\u5c06\u7acb\u5373\u4f1a\u88ab\u8c03\u7528")\n}\n\n// \u8ba9 Goroutine \u6267\u884c\u4e00\u4e2a\u95ed\u5305\u51fd\u6570\ngo def{\n    sleep(0.5)\n    println("\u5728 Goroutine \u4e2d\u6267\u884c\u4e86\u95ed\u5305\u51fd\u6570\u5594")\n}\n\n// aaa() \u653e\u5728 Goroutine \u4e2d\u6267\u884c\ngo aaa()\n\n// sleep 1 \u79d2\u7b49\u5f85 Goroutine \u6267\u884c\u5b8c\u6210\nsleep(1)\n')),(0,l.kt)("p",null,"\u6267\u884c\u5b8c\u5982\u4e0a\u811a\u672c\uff0c\u6211\u4eec\u770b\u5230\u7ed3\u679c\u4e3a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u5177\u540d\u51fd\u6570 aaa \u51fd\u6570\u8d4b\u503c\u7ed9\u4e86 bbb\uff0c\u88ab\u8c03\u7528\u4e86\n\u5177\u540d\u51fd\u6570 aaa \u51fd\u6570\u8d4b\u503c\u7ed9\u4e86 bbb\uff0c\u88ab\u8c03\u7528\u4e86\n\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u4e86 ccc\uff0c\u88ab\u8c03\u7528\u4e86\n\u8fd9\u662f\u4e00\u4e2a\u95ed\u5305\uff0c\u58f0\u660e\u7684\u65f6\u5019\uff0c\u5c06\u7acb\u5373\u4f1a\u88ab\u8c03\u7528\n\u5177\u540d\u51fd\u6570 aaa \u51fd\u6570\u8d4b\u503c\u7ed9\u4e86 bbb\uff0c\u88ab\u8c03\u7528\u4e86\n\u5728 Gorouting \u4e2d\u6267\u884c\u4e86\u95ed\u5305\u51fd\u6570\u5594\n")),(0,l.kt)("h3",{id:"yak-\u51fd\u6570\u7684\u5b9a\u4e49\uff1a\u5b9a\u4e49\u53c2\u6570\u4e0e\u53ef\u53d8\u53c2\u6570"},"Yak \u51fd\u6570\u7684\u5b9a\u4e49\uff1a\u5b9a\u4e49\u53c2\u6570\u4e0e\u53ef\u53d8\u53c2\u6570"),(0,l.kt)("p",null,"\u672c\u8d28\u4e0a yak \u51fd\u6570\u7684\u5b9a\u4e49\u672c\u8d28\u4e0a\u90fd\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"func(params ...interface{}) interface{}")," \u56e0\u6b64\u53ef\u4ee5\u5bf9\u5e38\u89c1\u4efb\u4f55\u5f62\u6001\u7684\u51fd\u6570\u5b9a\u4e49\u505a\u517c\u5bb9\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u5e26\u53c2\u6570\u7684\u51fd\u6570\nfunc x(a) {\n    println("exec in x func, recv: ", a)\n}\nprintln(x("aaa"))\n\n/*\nOUTPUT:\n\nexec in x func, recv:  aaa\n*/\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'func argsTest1(vars...) {\n    println("argsTest1 recv: ", vars)\n}\n\nfunc argsTest(var1, vars...) {\n    println("var1: ", var1)\n    println("vars: ", vars)\n}\n\nargsTest1(123, 1, 2, 3, 4, 5)\nprintln("---------------------")\nargsTest(123, 1, 2, 3, 4, 5)\n\n/*\nargsTest1 recv:  [123 1 2 3 4 5]\n---------------------\nvar1:  123\nvars:  [1 2 3 4 5]\n*/\n')),(0,l.kt)("h3",{id:"\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1a\u53ef\u4ee5\u652f\u6301\u591a\u4e2a\u8fd4\u56de\u503c\uff0c\u62c6\u5305"},"\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1a\u53ef\u4ee5\u652f\u6301\u591a\u4e2a\u8fd4\u56de\u503c\uff0c\u62c6\u5305"),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u5b9a\u4e49\u7684 yak \u51fd\u6570\u6709\u591a\u4e2a\u8fd4\u56de\u503c\u662f\uff0c\u6211\u4eec\u9ed8\u8ba4\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5217\u8868 ",(0,l.kt)("inlineCode",{parentName:"p"},"[]interface{}"),"\uff0c\u6240\u4ee5\u5728\u51fd\u6570\u8fd4\u56de\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u652f\u6301\u81ea\u52a8\u62c6\u5305\uff0c\u8fd9\u6837\u505a\u95f4\u63a5\u652f\u6301\u4e86 Golang \u7684\u591a\u8fd4\u56de\u503c\u8bed\u6cd5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u6211\u4eec\u770b\u5982\u4e0b\u6848\u4f8b\nfunc testFunc(arg1, args...) {\n    return 1, 2, arg1\n}\n\nrets = testFunc("test")\nprintln("rets = testFunc(`test`) -> rets: ", rets)\nprintln("---------------")\nret1, ret2, ret3 = testFunc("aaa", "bbb", "ccc")\nprintln(`ret1, ret2, ret3 = testFunc("aaa", "bbb", "ccc")`)\nprintln("ret1: ", ret1)\nprintln("ret2: ", ret2)\nprintln("ret3: ", ret3)\n\n/*\nrets = testFunc(`test`) -> rets:  [1 2 test]\n---------------\nret1, ret2, ret3 = testFunc("aaa", "bbb", "ccc")\nret1:  1\nret2:  2\nret3:  aaa\n*/\n')),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},'rets = testFunc("test")')," \u7684\u60c5\u51b5\u4e0b\uff0c \u6211\u4eec\u53d1\u73b0 ",(0,l.kt)("inlineCode",{parentName:"p"},"rets")," \u7684\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"[1 2 test]")," \u76f4\u63a5\u5370\u8bc1\u4e86\u6211\u4eec\u7684\u8bf4\u6cd5\u3002"),(0,l.kt)("p",null,"\u5f53\u7136\u5728\u4e0d\u5b8c\u5168\u62c6\u5305\u7684\u60c5\u51b5\u4e0b\uff0c\u4f1a\u62a5\u9519\uff0c\u6211\u4eec\u770b\u5982\u4e0b\u60c5\u51b5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'func testFunc(arg1, args...) {\n    return 1, 2, arg1\n}\nret1, ret2 = testFunc("aaa", "bbb", "ccc")\n\n/*\nOUTPUT:\n\n[ERRO] 2021-05-26 23:32:19 +0800 [default:yak.go:100] line 4: multi assignment error: require 3 variables, but we got 2\n*/\n')),(0,l.kt)("h2",{id:"go-\u5173\u952e\u5b57\u4e0e-goroutine"},"Go \u5173\u952e\u5b57\u4e0e Goroutine"),(0,l.kt)("h3",{id:"\u57fa\u7840\u7528\u6cd5"},"\u57fa\u7840\u7528\u6cd5"),(0,l.kt)("p",null,"Goroutine \u662f Golang \u6700\u5f3a\u5927\u7684\u7279\u6027\u4e4b\u4e00\uff0cYak \u5b8c\u7f8e\u7ee7\u627f\u4e86\u8fd9\u4e00\u7279\u6027\u3002"),(0,l.kt)("p",null,"Yak \u811a\u672c\u4e0e Golang \u7684 Go \u7684\u4f5c\u7528\u90fd\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u9700\u8981\u6ce8\u610f\u4e00\u70b9\u7684\u662f\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"go")," \u5173\u952e\u5b57\u53ef\u4ee5\u7528\u6765\u542f\u52a8 yak \u7684\u95ed\u5305\u51fd\u6570"),(0,l.kt)("p",null,"\u5728 Golang \u4e2d\uff0c\u6211\u4eec\u542f\u52a8\u4e00\u4e2a Goroutine \u901a\u8fc7\u4ee5\u4e0b\u64cd\u4f5c\u542f\u52a8"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"go func(){\n    // ...do some codes\n}()\n")),(0,l.kt)("p",null,"\u5728 yak \u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u517c\u5bb9\u4e86\u4e0a\u8ff0\u5199\u6cd5\uff0c\u6211\u4eec\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u90fd\u662f\u7b49\u6548\u7684"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"//  goroutine \u542f\u52a8\u6765\u51fd\u6570\u5f02\u6b65\u8c03\u7528\ngo fn(){}()\ngo func(){}() // \u517c\u5bb9 Go \u7684\u5199\u6cd5\ngo def(){}()  // \u517c\u5bb9 Python \u5b9a\u4e49\u65b9\u6cd5\u7684\u5173\u952e\u5b57\n\n// \u5b9a\u4e49\u95ed\u5305\uff0c\u6267\u884c Goroutine\ngo fn{/*do sth*/}\ngo func{/*do sth*/}\ngo def{/*do sth*/}\n")),(0,l.kt)("h3",{id:"\u5e76\u53d1\u63a7\u5236\u7528\u4f8b"},"\u5e76\u53d1\u63a7\u5236\u7528\u4f8b"),(0,l.kt)("p",null,"\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'wg = sync.NewWaitGroup()\nwg.Add(2)\n\ngo func {\n    defer wg.Done()\n    println("in goroutine1")\n}\n\ngo func {\n    defer wg.Done()\n    println("in goroutine2")\n}\n\nwg.Wait()\n')),(0,l.kt)("p",null,"\u6211\u4eec\u6267\u884c\u4e0a\u8ff0\u4ee3\u7801\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u7b49\u5f85\u76f4\u5230\u4e24\u4e2a Goroutine \u90fd\u6267\u884c\u5b8c\u624d\u4f1a\u9000\u51fa\uff0c\u8fd9\u5c5e\u4e8e\u6bd4\u8f83\u7ecf\u5178\u7684\u5e76\u53d1\u6848\u4f8b\u3002"),(0,l.kt)("h2",{id:"defer-\u673a\u5236\u4e0e-golang-\u7684-defer"},"Defer \u673a\u5236\u4e0e Golang \u7684 Defer"),(0,l.kt)("p",null,"\u57fa\u672c\u548c Golang \u7684 defer \u7528\u6cd5\u7c7b\u4f3c"),(0,l.kt)("p",null,"\u4f46\u662f\uff0c\u7531\u4e8e\u533f\u540d\u51fd\u6570\u5b58\u5728\uff0c\u6240\u4ee5 yak defer \u5e38\u89c1\u6709\u4e24\u79cd\u5199\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"defer fn() {} ()\ndefer fn{}\n")),(0,l.kt)("p",null,"\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff1a"),(0,l.kt)("p",null,"\u5728\u7ec6\u8282\u4e0a yak \u7684 defer \u548c Golang \u5904\u7406\u5e76\u4e0d\u4e00\u81f4\uff0c\u90a3\u5c31\u662f defer \u8868\u8fbe\u5f0f\u4e2d\u7684\u53d8\u91cf\u503c\u3002"),(0,l.kt)("p",null,"\u5728 Golang \u4e2d\uff0c\u5f53 defer \u88ab\u58f0\u660e\u7684\u65f6\u5019\uff0c\u5982\u679c\u76f4\u63a5\u4f7f\u7528\u51fd\u6570\u4f20\u53c2\u7684\u5f62\u5f0f(\u975e\u6307\u9488\u5f15\u7528)\uff0c\u6b64\u65f6\u7684\u53c2\u6570\u5c31\u4f1a\u4f7f\u7528\u53c2\u6570\u5f53\u524d\u503c\uff0c\u5728\u6574\u4e2a\u751f\u547d\u5468\u671f\u5185\u4e0d\u4f1a\u53d8\u5316\u3002\ngolang \u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"func dfp1() {\n   var a = 1\n   defer func(t int) {\n        fmt.Println(t) //result 1\n   }(a)\n   a = 2\n   return\n}\n")),(0,l.kt)("p",null,"\u5982\u679c\u76f4\u63a5\u4f7f\u7528\u4e86\u53d8\u91cf\u3002\u5219\u4fee\u6539\u4f1a\u6539\u53d8 defer \u4f7f\u7528\u7684\u503c\u3002"),(0,l.kt)("p",null,"golang \u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"func dfp2() {\n   var a = 1\n   defer func() {\n        fmt.Println(a) //result 2\n   }()\n   a = 2\n    return\n}\n")),(0,l.kt)("p",null,"\u4f46 yak \u4e0d\u8bba\u4f55\u79cd\u65b9\u5f0f\u90fd\u662f\u4f1a\u53d7\u5230\u5f71\u54cd\u3002\nyak \u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'f = {"ccc": 1}\ndump(f.ccc)\ndefer func{\n    println("\u51c6\u5907\u5f00\u59cb\u6267\u884c defer func")\n    println(f.ccc)    // \u7b49\u5230\u6267\u884c\u8fd9\u91cc\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u62a5\u9519\n}\nprintln("\u8bbe\u7f6e f \u53d8\u91cf\u4e3a\u7a7a")\nf = nil               // \u5728\u8fd9\u91cc\u8bbe\u7f6e f \u4e3a\u7a7a\n')),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u5047\u8bbe\u4f60\u5728 defer \u4e4b\u540e\uff0c\u8c03\u7528 f = nil \u628a f \u53d8\u91cf\u6539\u4e3a nil\uff0c\u90a3\u4e48\u540e\u9762\u6267\u884c f.Close() \u65f6\u5c31\u4f1a\u53d1\u751f\u9519\u8bef\u3002"),(0,l.kt)("p",null,"\u4e0a\u8ff0\u4ee3\u7801\u6bb5\u6267\u884c\u7ed3\u679c\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\u8bbe\u7f6e f \u53d8\u91cf\u4e3a\u7a7a\n\u51c6\u5907\u5f00\u59cb\u6267\u884c defer func\n[ERRO] 2021-05-26 00:27:59 +0800 [default:yak.go:100] reflect: call of reflect.Value.MethodByName on zero Value\u5728 defer \u4e2d\u4fee\u6539\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u5982\u679c\u662f\u4f7f\u7528\u4e86\u53d8\u91cf\uff0cgolang \u4f1a\u6539\u53d8\u8fd4\u56de\u503c\u3002yak \u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\ngolang \u793a\u4f8b\n")),(0,l.kt)("p",null,"\u5728 defer \u4e2d\u4fee\u6539\u8fd4\u56de\u503c\uff0c\u5982\u679c\u662f\u76f4\u63a5\u4fee\u6539\u4e86\u8fd4\u56de\u503c\u7684\u503c\uff0cgolang \u4f1a\u6539\u53d8\u8fd4\u56de\u7684\u503c\u3002yak \u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\ngolang \u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'func dfr1() (r int) {\n   r = 5\n   defer func() {\n      r++\n      fmt.Println("dfr1@", r) // 3\n   }()\n   return 2 //3\n}\n\nfunc dfr2() (r int) {\n   r = 5\n   defer func(r int) {\n      r++\n      fmt.Println("dfr2@", r) // 6\n   }(r) //3\n\n   return 2 //2\n}\n')),(0,l.kt)("p",null,"yak \u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"fn test(){\n   a := 2\n   defer fn{\n       a++\n   }\n   a = 3\n   return a //3\n}\nfn test(){\n   a := 2\n   defer fn(a){\n       a++\n   }(a)\n   a = 3\n   return a //3\n}\n\nprint(test())\n")),(0,l.kt)("p",null,"defer \u7684\u6267\u884c\u987a\u5e8f\u8ddf Golang \u4e2d\u7684\u4e00\u81f4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"defer fn {\n    dump(11111)\n}\n\ndefer fn(){\n    dump(111)\n}()\n\n// \u8f93\u51fa\u7ed3\u679c\u4e3a\n// (int) 111\n// (int) 11111\n")),(0,l.kt)("h2",{id:"\u6d41\u7a0b\u63a7\u5236"},"\u6d41\u7a0b\u63a7\u5236"),(0,l.kt)("h3",{id:"ifelifelse-\u6761\u4ef6\u5206\u652f"},(0,l.kt)("inlineCode",{parentName:"h3"},"if/elif/else")," \u6761\u4ef6\u5206\u652f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"if expr {\n\n} elif expr2 {\n\n} else {\n\n}\n")),(0,l.kt)("h3",{id:"switchcase-\u8bed\u53e5"},(0,l.kt)("inlineCode",{parentName:"h3"},"switch/case")," \u8bed\u53e5"),(0,l.kt)("p",null,"yak switch \u8bed\u53e5\u548c Golang \u7684\u6709\u5171\u540c\u70b9\u4e5f\u6709\u4e0d\u540c\u70b9\uff1b"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"yak \u7684 swtich \u6ca1\u6709 break / fallthrough \u7684\u7279\u6027\u652f\u6301"),(0,l.kt)("li",{parentName:"ol"},"yak switch \u540e\u7684\u8868\u8fbe\u5f0f\u53ea\u80fd\u662f\u8868\u8fbe\u5f0f\uff0c\u4e0d\u80fd\u50cf Golang \u4e00\u6837\u627f\u8f7d",(0,l.kt)("inlineCode",{parentName:"li"},"\u8d4b\u503c\u8bed\u53e5; \u8868\u8fbe\u5f0f"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// switch expr1 {case: expr2; default}\na = 5\nswitch a - 3 {\ncase 2:\n  println("case first")\ncase 3:\n  println("case second")\n}\n\nswitch {\ncase true:\n  println("true case ")\ncase false:\n  println("false case")\n}\n')),(0,l.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"\u6ce8\u610f\u5dee\u5f02 yak \u7684 ",(0,l.kt)("inlineCode",{parentName:"h5"},"switch/case/default")," \u53ea\u80fd\u7b97\u7b80\u6613\u7248\u7684 ",(0,l.kt)("inlineCode",{parentName:"h5"},"if/elif/else"),"\uff0c\u5e76\u4e0d\u652f\u6301 ",(0,l.kt)("inlineCode",{parentName:"h5"},"fallthrough")," \u548c ",(0,l.kt)("inlineCode",{parentName:"h5"},"break"))),(0,l.kt)("div",{parentName:"div",className:"admonition-content"})),(0,l.kt)("h3",{id:"for-\u8bed\u53e5-\u4e0e-for-range-\u8bed\u53e5"},(0,l.kt)("inlineCode",{parentName:"h3"},"for")," \u8bed\u53e5 \u4e0e ",(0,l.kt)("inlineCode",{parentName:"h3"},"for range")," \u8bed\u53e5"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"for")," \u7c7b\u4f3c Golang \u7684 for \u8bed\u53e5\uff0c\u540c\u65f6\u652f\u6301 continue break \u8fd9\u4e9b\u5e38\u89c4\u64cd\u4f5c\u3002"),(0,l.kt)("h4",{id:"\u65e0\u9650\u5faa\u73af"},"\u65e0\u9650\u5faa\u73af"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"for { // \u65e0\u9650\u5faa\u73af\uff0c\u9700\u8981\u5728\u4e2d\u95f4 break \u6216 return \u7ed3\u675f\n    ...\n}\n\nfor booleanExpr { // \u7c7b\u4f3c\u5f88\u591a\u8bed\u8a00\u7684 while \u5faa\u73af\n    ...\n}\n")),(0,l.kt)("h4",{id:"\u57fa\u7840\u4f7f\u7528"},"\u57fa\u7840\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'/*\nfor initExpr; conditionExpr; stepExpr {\n    ...\n}\n*/\n\nfor i = 0; i < 10; i ++ {\n    println("element: ", i)\n}\n\n/*\nOUTPUT:\n\nelement:  0\nelement:  1\nelement:  2\nelement:  3\nelement:  4\nelement:  5\nelement:  6\nelement:  7\nelement:  8\nelement:  9\n*/\n')),(0,l.kt)("p",null,"\u8fd9\u79cd\u7528\u6cd5\u6211\u60f3\u5927\u5bb6\u90fd\u5f88\u719f\u6089\u4e86\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u8fc7\u591a\u53d9\u8ff0\u3002"),(0,l.kt)("h4",{id:"for-range-\u6765\u904d\u5386\u4e00\u4e2a-slice--list"},(0,l.kt)("inlineCode",{parentName:"h4"},"for range")," \u6765\u904d\u5386\u4e00\u4e2a slice / list"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"for range")," \u662f Golang \u7279\u6709\u7684\u5f62\u5f0f\uff0cyak \u5bf9\u8fd9\u79cd\u5f62\u5f0f\u8fdb\u884c\u4e86\u4fdd\u7559"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'// \u58f0\u660e\u4e00\u4e2a\u6700\u57fa\u7840\u7684 slice / list\na = [1,2,3,4]\n\n// \u904d\u5386\u8fd9\u4e2a slice / list\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a index\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u5177\u4f53\u7684 slice \u4e2d\u7684\u5143\u7d20\nfor index, element = range a {\n    println(str.f("a[%v]: %v", index, element))\n}\nprintln("-----------------")\n\n// \u53ef\u4ee5\u53ea\u53bb index\uff0ccontinue \u662f\nfor index = range a {\n    println(str.f("a[%v]", index))\n    continue\n}\nprintln("-----------------")\nfor _, element = range a {\n    println(str.f("first element: %v", element))\n    break\n}\n')),(0,l.kt)("h4",{id:"for-range-\u6765\u904d\u5386\u4e00\u4e2a-map--dict"},(0,l.kt)("inlineCode",{parentName:"h4"},"for range")," \u6765\u904d\u5386\u4e00\u4e2a map / dict"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'b = {"abc": "123", "bcd": "bcd", "cde": 512}\nfor key, value = range b {\n    println(str.f("b[%v]: %v", key, value))\n}\n\n/**\nOUTPUT:\n\nb[abc]: 123\nb[bcd]: bcd\nb[cde]: 512\n*/\n')),(0,l.kt)("p",null,"\u4e0a\u8ff0\u811a\u672c\u5f88\u5bb9\u6613\u731c\u5230\uff0c\u7ed3\u679c\u5982\u4e0b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"a[0]: 1\na[1]: 2\na[2]: 3\na[3]: 4\n-----------------\na[0]\na[1]\na[2]\na[3]\n-----------------\ncurrent element: 1\n")),(0,l.kt)("h4",{id:"for-range-\u540c\u6837\u53ef\u4ee5\u64cd\u4f5c-chan"},(0,l.kt)("inlineCode",{parentName:"h4"},"for range")," \u540c\u6837\u53ef\u4ee5\u64cd\u4f5c chan"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'ch := make(chan var, 2)\nch <- 1\nch <- 2\nclose(ch)\n\nfor result = range ch {\n    println("fetch chan var [ch] element: ", result)\n}\n\n/*\nOUTPUT:\n\nfetch chan var [ch] element:  1\nfetch chan var [ch] element:  2\n*/\n')),(0,l.kt)("h2",{id:"\u6a21\u5757\u5316\u591a\u6587\u4ef6\u7f16\u7a0b"},"\u6a21\u5757\u5316/\u591a\u6587\u4ef6\u7f16\u7a0b"),(0,l.kt)("p",null,"\u5728\u6a21\u5757\u5316\u4e0e\u591a\u6587\u4ef6\u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u9700\u8981\u6839\u636e\u76f8\u5bf9\u4f4d\u7f6e\u5b9a\u4f4d\u6587\u4ef6\u6216\u8005\u8d44\u6e90\u76ee\u5f55"),(0,l.kt)("p",null,"\u4e3a\u6b64\u6211\u4eec\u51c6\u5907\u6709\u4e09\u4e2a\u5e38\u89c1\u5168\u5c40\u53d8\u91cf\u65b9\u4fbf\u7528\u6237\u64cd\u4f5c"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"YAK_MAIN"),": boolean \u7c7b\u578b\uff0c\u5982\u679c\u4e3a false \u8bf4\u660e\u8fd9\u4e2a\u6587\u4ef6\u662f\u4e3b\u6587\u4ef6\uff0c\u901a\u8fc7\u52a8\u6001\u5f15\u5165\u7684\u6587\u4ef6\u5c06\u4f1a\u4e3a false"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"YAK_FILENAME"),": \u5f53\u524d\u6267\u884c\u7684\u811a\u672c\u6587\u4ef6\u7684\u5177\u4f53\u6587\u4ef6\u540d"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"YAK_DIR"),": \u5f53\u524d\u811a\u672c\u6587\u4ef6\u6240\u5728\u7684\u8def\u5f84\u4f4d\u7f6e")),(0,l.kt)("h3",{id:"\u4f7f\u7528-yak_main\uff1a\u7b49\u4ef7\u4e8e-python-\u4e2d\u7684-__main__"},"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"h3"},"YAK_MAIN"),"\uff1a\u7b49\u4ef7\u4e8e Python \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"h3"},"__main__")),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u8c03\u7528\u4e00\u4e2a yak \u811a\u672c\uff0c\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"yak [your-yak-script].yak")," \u6765\u8c03\u7528\uff0c\u90a3\u4e48\u811a\u672c\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"YAK_MAIN")," \u5c06\u4f1a\u8bbe\u7f6e\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),"\u3002"),(0,l.kt)("p",null,"\u76f8\u53cd\uff0c\u5982\u679c\u662f\u901a\u8fc7 ",(0,l.kt)("a",{parentName:"p",href:"/docs/api/dyn"},(0,l.kt)("inlineCode",{parentName:"a"},"dyn"))," \u4e2d\u7684\u5305\u6765\u8c03\u7528\uff0c\u90a3\u4e48\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"YAK_MAIN")," \u7684\u7ed3\u679c\u5219\u4f1a\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),"\u3002"),(0,l.kt)("p",null,"\u6240\u4ee5\u6211\u4eec\u5728\u770b\u4e0b\u9762\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'func aaa(caller) {\n   println("aaa is called by", caller)\n}\n\nif YAK_MAIN {\n   println("i am in main.... block")\n   aaa("main")\n}\n')),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"yak main.yak")," \u7684\u65f6\u5019\uff0c\u754c\u9762\u5c55\u793a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"i am in main.... block\naaa is called by main\n")),(0,l.kt)("p",null,"\u6211\u4eec\u53d1\u73b0\uff0c\u6211\u4eec\u5b9a\u4e49\u7684\u51fd\u6570\u6267\u884c\u4e86\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"YAK_MAIN")," \u7684\u503c\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),"\u3002"),(0,l.kt)("p",null,"\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u6211\u4eec\u5728\u540c\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u7f16\u5199\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"foo.yak"),"\uff0c\u5185\u5bb9\u5982\u4e0b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'res, err := dyn.LoadVarFromFile("main.yak", "aaa")\ndie(err)\n\nres[0].Value("foo.yak")\n')),(0,l.kt)("p",null,"\u6211\u4eec\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"yak foo.yak")," \u4e4b\u540e\uff0c\u53d1\u73b0\u5c4f\u5e55\u6253\u5370\u51fa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"aaa is called by foo.yak\n")),(0,l.kt)("p",null,"\u6211\u4eec\u53d1\u73b0:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'if YAK_MAIN {\n   println("i am in main.... block")\n   aaa("main")\n}\n')),(0,l.kt)("p",null,"\u8fd9\u6bb5\u4ee3\u7801\u5e76\u6ca1\u6709\u88ab\u6267\u884c\uff0c\u8fd9\u662f\u56e0\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"main.yak")," \u7b2c\u4e8c\u6b21\u6267\u884c\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u662f\u4e3b\u51fd\u6570\u3002\u6240\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"YAK_MAIN")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),"\u3002"),(0,l.kt)("h3",{id:"\u5185\u7f6e\u51fd\u6570-import\uff1a\u52a0\u8f7d\u53e6\u5916\u7684\u811a\u672c\u4e2d\u7684\u53d8\u91cf\u3002"},"\u5185\u7f6e\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"h3"},"import"),"\uff1a\u52a0\u8f7d\u53e6\u5916\u7684\u811a\u672c\u4e2d\u7684\u53d8\u91cf\u3002"),(0,l.kt)("h4",{id:"\u5b9a\u4e49"},"\u5b9a\u4e49"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"func import(modName: string, varName: string) (*yak.yakVariable, error)")),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("inlineCode",{parentName:"p"},"*yak.yakVariable")," \u5b9a\u4e49\u5982\u4e0b\uff1a"),(0,l.kt)("pre",{parentName:"div"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"type palm/common/yak.(yakVariable) struct {\n  Fields(\u53ef\u7528\u5b57\u6bb5):\n      FilePath: string\n      YakMod: string\n      Value: interface {}\n  StructMethods(\u7ed3\u6784\u65b9\u6cd5/\u51fd\u6570):\n  PtrStructMethods(\u6307\u9488\u7ed3\u6784\u65b9\u6cd5/\u51fd\u6570):\n      func Callable() return(bool)\n}\n")))),(0,l.kt)("p",null,"\u6211\u4eec\u6267\u884c\u5b8c\u4e0a\u8ff0\u51fd\u6570\u4e4b\u540e\uff0c\u5c06\u4f1a\u628a\u4e00\u4e2a\u672c\u5730 ",(0,l.kt)("inlineCode",{parentName:"p"},"modName")," \u5355\u72ec\u52a0\u8f7d\u5230\u6211\u4eec\u65b0\u7684\u811a\u672c\u4e2d\uff0c\u5e76\u628a\u53d8\u91cf\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"varName")," \u7684\u53d8\u91cf\u5bfc\u51fa\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6267\u884c\u5931\u8d25\uff0c\u8fd4\u56de\u503c\u5c06\u4f1a\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"\u7a7a+err"),"\u3002"),(0,l.kt)("h4",{id:"quick-start"},"Quick Start"),(0,l.kt)("p",null,"\u6211\u4eec\u5148\u521b\u5efa\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"a1.yak")," \u811a\u672c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'func poc() {\n   println("I am in `poc` function....")\n}\n\nif YAK_MAIN {\n   println("poc function is called by a1")\n   poc()\n}\n')),(0,l.kt)("p",null,"\u7136\u540e\u6211\u4eec\u521b\u5efa\u4e00\u4e2a ",(0,l.kt)("inlineCode",{parentName:"p"},"main.yak")," \u811a\u672c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'pocVar, err = import("a1", "poc")\nif err != nil {\n    die(err)\n}\n\nif YAK_MAIN {\n   println("poc function is called by main")\n   pocVar.Value()\n}\n')),(0,l.kt)("p",null,"\u5982\u679c\u6211\u4eec\u5355\u72ec\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"main.yak")," \u6211\u4eec\u53d1\u73b0\u8f93\u51fa\u4e3a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"poc function is called by main\nI am in `poc` function....\n")),(0,l.kt)("p",null,"\u5982\u679c\u6211\u4eec\u5355\u72ec\u6267\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"a1.yak")," \u6211\u4eec\u53d1\u73b0\u8f93\u51fa\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"poc function is called by a1\nI am in `poc` function....\n")),(0,l.kt)("p",null,"\u663e\u7136\u7684\u6211\u4eec\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"main.yak")," \u8c03\u7528\u5230\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"a1.yak")," \u4e2d\u7684\u51fd\u6570\uff08\u5b9e\u9645\u4e0a\u662f\u53d8\u91cf\uff09\u3002\u975e\u5e38\u7b80\u5355\u5b9e\u7528\uff01"),(0,l.kt)("h3",{id:"include-\u50cf-php-include-\u53e6\u4e00\u4e2a\u811a\u672c"},(0,l.kt)("inlineCode",{parentName:"h3"},"include")," \u50cf PHP include \u53e6\u4e00\u4e2a\u811a\u672c"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"include"),' \u53ea\u6709\u5728\u811a\u672c\u6267\u884c\u4e4b\u524d\u8fdb\u884c\u6267\u884c\uff0c\u672c\u8d28\u76f8\u5f53\u4e8e\u628a\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6 "\u590d\u5236" \u4e00\u4e2a\u5f53\u524d\u811a\u672c\u4e2d\u6267\u884c\u4e86\u3002'),(0,l.kt)("p",null,"\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u6211\u4eec\u7ee7\u7eed\u4f7f\u7528\u4e0a\u4e00\u8282\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"main.yak")," \u51fd\u6570\u3002\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"include")," \u6765\u6267\u884c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'include "main.yak"\n\nif YAK_MAIN {\n    aaa("foo2.yak")\n}\n')),(0,l.kt)("p",null,"\u6211\u4eec\u6267\u884c\u4e0a\u8ff0\u4ee3\u7801\u4e4b\u540e\uff0c\u53d1\u73b0\u7ed3\u679c\u5982\u4e0b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"i am in main.... block\naaa is called by main\naaa is called by foo2.yak\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"main.yak")," \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"if YAK_MAIN{}")," \u5206\u652f\u4e0b\u7684\u5185\u5bb9\u88ab\u6267\u884c\u4e86\u3002"))}d.isMDXComponent=!0}}]);